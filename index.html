<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GOLDSILVER GLOBAL</title>

    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0a0a0a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="GoldSilver">

    <link rel="icon" type="image/png" href="icon.png">
    <link rel="apple-touch-icon" href="icon.png">

    <style>
        :root {
            --gold: #d4af37;
            --gold-bright: #ffdf00;
            --bg-dark: #0a0a0a;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            margin: 0; padding: 0;
            background-color: var(--bg-dark);
            color: #ffffff;
            display: flex; flex-direction: column; align-items: center;
            min-height: 100vh;
            overscroll-behavior-y: none; 
            padding-bottom: 80px;
        }

        .header { width: 100%; max-width: 450px; padding: 25px 0; text-align: center; }
        .header img { width: 75%; max-width: 300px; filter: drop-shadow(0 4px 15px rgba(212, 175, 55, 0.4)); }

        .calculator-card {
            width: 92%; max-width: 420px;
            background: linear-gradient(180deg, #222 0%, #111 100%);
            border: 1px solid var(--gold);
            border-radius: 30px; padding: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.9);
            box-sizing: border-box; margin-bottom: 30px;
        }

        h1 { color: var(--gold); font-size: 24px; text-align: center; margin: 0 0 30px 0; font-weight: 300; letter-spacing: 2px; text-transform: uppercase; }

        .input-group { margin-bottom: 22px; position: relative; }
        label { display: block; font-size: 14px; color: var(--gold); margin-bottom: 10px; font-weight: 600; }

        input, select {
            width: 100%; padding: 16px;
            background: #2a2a2a; 
            border: 1px solid #444; border-radius: 15px;
            color: #ffffff !important;
            font-size: 20px; outline: none;
            transition: all 0.3s ease; box-sizing: border-box;
            appearance: none; -webkit-appearance: none;
            text-align: center;
            font-weight: bold;
        }

        .controls-container { display: flex; align-items: center; gap: 10px; }
        .step-btn {
            background: #1a1a1a;
            border: 1px solid var(--gold);
            color: var(--gold);
            width: 55px; height: 55px;
            border-radius: 15px;
            font-size: 28px;
            cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            transition: 0.2s;
            user-select: none; 
        }
        .step-btn:active { background: var(--gold); color: black; }

        .select-wrapper { position: relative; width: 100%; }
        .select-wrapper::after {
            content: 'â–¼';
            font-size: 12px; color: var(--gold);
            position: absolute; left: 15px; top: 50%;
            transform: translateY(-50%); pointer-events: none;
        }

        select option { background-color: #1a1a1a; color: white; }

        .result-panel {
            background: rgba(0, 0, 0, 0.4); border-radius: 20px;
            padding: 25px; text-align: center; margin-top: 10px;
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        .total-price {
            font-size: 42px; font-weight: 800;
            color: var(--gold-bright); display: block;
            margin-bottom: 20px; font-family: 'Tahoma', sans-serif;
            letter-spacing: -1px;
        }

        .market-grid {
            display: grid; grid-template-columns: 1fr 1fr;
            gap: 15px; padding-top: 20px; border-top: 1px solid #333;
        }

        .market-item { text-align: right; }
        .market-item span { font-size: 11px; color: #888; display: block; margin-bottom: 4px; }
        .market-item b { color: #efefef; font-size: 14px; font-family: monospace; }

        .status-bar { font-size: 10px; color: #444; margin-top: 20px; text-align: center; }

        /* ×¢×™×¦×•×‘ ×™×¦×™×¨×ª ×§×©×¨ ×¢× ××™×™×§×•× ×™× */
        .contact-section {
            text-align: center; color: var(--gold); margin-top: 10px; margin-bottom: 40px;
            font-size: 13px; letter-spacing: 1.5px; line-height: 1.8; text-transform: uppercase;
        }
        .contact-name { font-weight: 700; color: #efefef; font-size: 15px; margin-bottom: 12px; display: block; }
        
        .contact-link {
            color: var(--gold);
            text-decoration: none;
            display: flex; /* ××¡×“×¨ ××ª ×”××™×™×§×•×Ÿ ×œ×™×“ ×”×˜×§×¡×˜ */
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 8px;
            font-weight: 600;
            transition: color 0.3s;
            font-size: 15px;
        }
        .contact-link:hover { color: var(--gold-bright); }
        
        /* ×”×’×“×¨×•×ª ××™×™×§×•× ×™× */
        .icon-svg {
            width: 20px;
            height: 20px;
            fill: currentColor; /* ×œ×•×§×— ××ª ×¦×‘×¢ ×”×–×”×‘ ×©×œ ×”×˜×§×¡×˜ */
        }

        .divider { width: 50px; height: 1px; background: #333; margin: 15px auto; }
        .footer { padding: 20px; font-size: 12px; color: #555; letter-spacing: 1px; }

        #install-btn {
            display: none;
            position: fixed;
            bottom: 20px; left: 50%; transform: translateX(-50%);
            background: linear-gradient(45deg, var(--gold), #b8860b);
            color: black; padding: 12px 25px; border-radius: 50px;
            font-weight: bold; box-shadow: 0 4px 15px rgba(212, 175, 55, 0.5);
            z-index: 1000; cursor: pointer; font-size: 16px;
            width: 80%; max-width: 300px; text-align: center;
        }

        #ios-instructions {
            display: none; position: fixed; bottom: 0; left: 0; right: 0;
            background: #222; border-top: 2px solid var(--gold);
            padding: 20px; text-align: center; z-index: 2000;
            border-radius: 20px 20px 0 0;
        }
        .ios-step { margin: 10px 0; color: white; font-size: 14px; }
        .ios-icon { font-size: 20px; vertical-align: middle; }
    </style>
</head>
<body>

    <div class="header">
        <img src="goldSilver.jpg" alt="GOLDSILVER GLOBAL">
    </div>

    <div class="calculator-card">
        <h1>××—×©×‘×•×Ÿ ×©×•×•×™ ×©×•×§</h1>
        
        <div class="input-group">
            <label>××©×§×œ ×–×”×‘ (×’×¨××™×):</label>
            <div class="controls-container">
                <button class="step-btn" onclick="changeWeight(-1)">âˆ’</button>
                <input type="number" id="weight" value="1.00" step="1" min="0" oninput="calculate()">
                <button class="step-btn" onclick="changeWeight(1)">+</button>
            </div>
        </div>

        <div class="input-group">
            <label>×¡×•×’ ×”×–×”×‘ (×§×¨××˜):</label>
            <div class="select-wrapper">
                <select id="purity" onchange="calculate()">
                    <option value="1">24 ×§×¨××˜ (999.9)</option>
                    <option value="0.916">22 ×§×¨××˜ (916)</option>
                    <option value="0.900">×–×”×‘ 900</option>
                    <option value="0.800">×–×”×‘ 800</option>
                    <option value="0.750">18 ×§×¨××˜ (750)</option>
                    <option value="0.585">14 ×§×¨××˜ (585)</option>
                    <option value="0.375">9 ×§×¨××˜ (375)</option>
                </select>
            </div>
        </div>

        <div class="result-panel">
            <span style="font-size: 15px; color: #888; margin-bottom: 12px; display: block;">×©×•×•×™ × ×•×›×—×™ ×‘×©×§×œ×™×:</span>
            <span class="total-price" id="total-ils">â‚ª --</span>
            
            <div class="market-grid">
                <div class="market-item"><span>××•× ×§×™×” (Spot):</span><b id="oz-usd">--</b></div>
                <div class="market-item"><span>×©×¢×¨ ×“×•×œ×¨ (â‚ª):</span><b id="rate-ils">--</b></div>
                <div class="market-item"><span>×’×¨× ($):</span><b id="gram-usd">--</b></div>
                <div class="market-item"><span>×’×¨× (â‚ª):</span><b id="gram-ils">--</b></div>
            </div>
        </div>
        
        <div id="status" class="status-bar">××ª×—×‘×¨ ×œ× ×ª×•× ×™× ×—×™×™×...</div>
    </div>

    <div class="contact-section" dir="ltr"> 
        <div class="contact-name">
            YEHUDA BENISH<br>
            GOLDSILVER GLOBAL LTD.
        </div>
        <div style="color: #bbb;">
            SAPIR TOWER 40<br>
            TUVAL STREET<br>
            RAMAT GAN, ISRAEL
        </div>
        
        <div class="divider"></div>

        <a href="tel:03330210" class="contact-link">
            <svg class="icon-svg" viewBox="0 0 24 24"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>
            03-330210
        </a>

        <a href="https://wa.me/972515715660" class="contact-link">
            <svg class="icon-svg" viewBox="0 0 24 24"><path d="M12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21 5.46 0 9.91-4.45 9.91-9.91 0-2.65-1.03-5.14-2.9-7.01C17.18 3.03 14.69 2 12.04 2zM12.05 20.21c-1.5 0-2.97-.39-4.26-1.15l-.3-.18-3.11.82.83-3.03-.19-.31c-.82-1.33-1.26-2.87-1.26-4.46 0-4.63 3.77-8.4 8.4-8.4 2.24 0 4.35.87 5.94 2.46 1.58 1.58 2.45 3.69 2.45 5.94 0 4.63-3.77 8.4-8.4 8.4zm4.61-6.28c-.25-.13-1.5-.74-1.73-.82-.23-.08-.39-.13-.56.13-.17.25-.66.82-.8.99-.15.17-.29.19-.54.06-.25-.13-1.05-.39-2-1.23-.74-.66-1.24-1.47-1.38-1.72-.14-.25-.02-.38.11-.51.11-.11.25-.29.37-.43.13-.15.17-.25.25-.41.08-.17.04-.31-.02-.43-.06-.13-.56-1.34-.76-1.84-.2-.49-.41-.42-.56-.43h-.48c-.17 0-.43.06-.66.31-.22.25-.87.85-.87 2.07 0 1.22.89 2.4 1.01 2.56.13.17 1.75 2.67 4.23 3.74.59.25 1.05.4 1.41.52.6.19 1.14.16 1.57.1.47-.07 1.5-.61 1.71-1.2.21-.59.21-1.09.15-1.2-.07-.12-.23-.19-.48-.32z"/></svg>
            +972 51-571-5660
        </a>

        <a href="mailto:sg@goldsilver.ltd" class="contact-link">
            <svg class="icon-svg" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
            sg@goldsilver.ltd
        </a>
    </div>

    <div class="footer">Â© GOLDSILVER GLOBAL LTD</div>

    <div id="install-btn" onclick="installApp()">ğŸ“² ×”×ª×§×Ÿ ××ª ×”××¤×œ×™×§×¦×™×”</div>

    <div id="ios-instructions">
        <div style="color: var(--gold); font-weight: bold; margin-bottom: 10px;">×”×ª×§× ×” ×‘××™×™×¤×•×Ÿ</div>
        <div class="ios-step">1. ×œ×—×¥ ×¢×œ ×›×¤×ª×•×¨ ×”×©×™×ª×•×£ ×œ××˜×” <span class="ios-icon">â‹</span></div>
        <div class="ios-step">2. ×’×œ×•×œ ×•×‘×—×¨ "×”×•×¡×£ ×œ××¡×š ×”×‘×™×ª" <span class="ios-icon">â•</span></div>
        <div class="ios-step" style="margin-top: 15px; color: #888; font-size: 12px;" onclick="document.getElementById('ios-instructions').style.display='none'">×¡×’×•×¨ X</div>
    </div>

<script>
    let market = { ozUSD: 0, rateILS: 0 };
    let deferredPrompt;

    function changeWeight(amount) {
        const weightInput = document.getElementById('weight');
        let current = parseFloat(weightInput.value || 0);
        let updated = current + amount;
        if (updated < 0) updated = 0;
        weightInput.value = updated.toFixed(2);
        calculate();
    }

    async function updateData() {
        try {
            const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=pax-gold&vs_currencies=usd,ils');
            const data = await response.json();

            if (data['pax-gold']) {
                market.ozUSD = data['pax-gold'].usd;
                const ozILS = data['pax-gold'].ils;
                market.rateILS = ozILS / market.ozUSD;

                document.getElementById('status').innerText = "×‘×•×¨×¡×” ××¢×•×“×›× ×ª âœ… " + new Date().toLocaleTimeString();
                calculate();
            }
        } catch (e) {
            document.getElementById('status').innerText = "×©×’×™××ª ×—×™×‘×•×¨. × ×¡×” ×œ×¨×¢× ×Ÿ.";
        }
    }

    function calculate() {
        if (market.ozUSD === 0 || market.rateILS === 0) return;
        const weight = parseFloat(document.getElementById('weight').value) || 0;
        const purity = parseFloat(document.getElementById('purity').value);
        
        const gram24K_USD = market.ozUSD / 31.1034768; 
        const currentGramUSD = gram24K_USD * purity;
        const currentGramILS = currentGramUSD * market.rateILS;
        const totalILS = weight * currentGramILS;

        document.getElementById('oz-usd').innerText = "$" + market.ozUSD.toLocaleString(undefined, {minimumFractionDigits: 2});
        document.getElementById('rate-ils').innerText = "â‚ª" + market.rateILS.toFixed(4);
        document.getElementById('gram-usd').innerText = "$" + currentGramUSD.toFixed(2);
        document.getElementById('gram-ils').innerText = "â‚ª" + currentGramILS.toFixed(2);
        document.getElementById('total-ils').innerText = "â‚ª " + totalILS.toLocaleString('he-IL', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
    }

    // --- ×œ×•×’×™×§×” ×œ×”×ª×§× ×ª ××¤×œ×™×§×¦×™×” ---
    
    const isStandalone = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone;
    
    if (!isStandalone) {
        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
        if (isIOS) {
            document.getElementById('install-btn').style.display = 'block';
        }

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            document.getElementById('install-btn').style.display = 'block';
        });
    }

    function installApp() {
        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
        
        if (isIOS) {
            document.getElementById('ios-instructions').style.display = 'block';
        } else if (deferredPrompt) {
            deferredPrompt.prompt();
            deferredPrompt.userChoice.then((choiceResult) => {
                if (choiceResult.outcome === 'accepted') {
                    document.getElementById('install-btn').style.display = 'none';
                }
                deferredPrompt = null;
            });
        }
    }

    updateData();
    setInterval(updateData, 60000); 
</script>
</body>
</html>
